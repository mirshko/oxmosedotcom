---
import { sanityClient } from "sanity:client";

import RootLayout from "../../layouts/RootLayout.astro";

const artists = await sanityClient.fetch(
  `*[_type == "artist" && defined(slug)] | order(publishedAt desc)`
);
---

<RootLayout>
  <h1>Artists</h1>

  <ul>
    {
      artists.map((artist) => (
        <li>
          <a href={"/artist/" + artist.slug.current}>{artist.name}</a>
        </li>
      ))
    }
  </ul>
</RootLayout>
